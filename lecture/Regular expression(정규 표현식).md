# Regular expression(정규 표현식)
정규 표현식이라는 개념을 처음 들어본 건 채팅 내용 중 욕설이나 직거래 제안이 있는지 감지하기 위한 기능을 구현할 때였다. 당시 개발자가 '직거래라고 취급할만한 정규 표현식을 알려주세요'라고 요청했는데, 이를 자연어로 변환하자면 '직거래라고 의심할만한 메시지의 패턴을 알려달라'는 거였다. 사람은 글을 읽으면 다르게 표현된 것도 같은 의미로 받아들이지만, 컴퓨터는-더 정확히는 AI 가 적용되지 않은 알고리즘은-룰을 명확하게 정의해주어야 한다. </br>

정규 표현식을 활용한 알고리즘은 쉽게 찾아볼 수 있다. 인스타그램 계정을 생성할 때, 아이디에 `_`나 `.`를 포함할 수 있지만 맨 앞글자는 알파벳 혹은 숫자여야한다. 또한 아이디에는 대문자 알파벳은 포함할 수 없다. 혹은 어떤 웹서비스에 이메일로 가입해야할 때, `hello12345@gmail.com`의 형태로 기입해야한다. </br>

정규표현식이란 무엇이고, 어떻게 사용해야하는지 전반적인 개념과 문법을 알아보자. 

## 1. 정규표현식과 메타 문자
- **정규표현식**
  - 정의: 문자열의 규칙을 나타내는 문자열 그 자체
  - 역할: '숫자 3자리', '알파벳으로 시작하는 단어'와 같이 찾고 싶은 패턴을 문자로 정의
- **메타문자**
  - 정의: 특별한 용도나 기능을 수행하도록 예약된 문자
  - 역할: 정규표현식을 만들 때 사용됨
  - 종류: `. ^ $ * + ? {} [] \ | ()`
메타문자를 이용해 정규표현식을 만드는 여러 방법을 알아보자.
### 1.1. `.` 
`.`는 줄바꿈(`\n`)을 제외한 모든 문자가 1개 포함될 수 있음을 뜻한다. 만약 부합하는 문자에 줄바꿈을 포함하고 싶다면 컴파일 시 `re.DOTALL` 옵션을 추가하면 된다. 
- `.ab`
  - `xab`, `1ab`, ` ab` 모두 이 정규표현식에 부합한다. 
- `a.b`
  - `axb`, `a b`, `a1b` 모두 이 정규표현식에 부합한다. 
- `ab.`
  - `abx`, `ab `, `ab1` 모두 이 정규표현식에 부합한다. 

### 1.2. `[]` 
`[]`는 문자열클래스, 즉 문자열의 집합을 감싸는 기호이다. 이 기호 안에 들어가는 것은 무조건 문자열로 취급한다. 이때의 클래스는 객체를 찍어내는 틀로 기능하는 클래스와는 다름을 참고하자. `[]` 안의 내용 중 1개만 만족하여도 정규표현식에 부합한다고 표현된다. 단 어떤 검색 메소드를 사용했냐에 따라 부합 여부가 다를 수 있다. 우선 개념만 익히도록 한다. 
- `[abc]` : a 혹은 b 혹은 c 와 매치 
- `[a-z]` : a, b, c, d, ... , z 까지의 소문자 알파벳과 매치
  - `[A-Z]` : A, B, C, D, ..., Z 까지의 대문자 알파벳과 매치
  - `[^a-z]` : 알파벳이 아닌 숫자와 매치
- `[0-9]` : 0, 1, 2, ... , 9 까지의 숫자와 매치
  - `[^0-9]`: 숫자가 아닌 알파벳과 매치
- `[.]` : 기호 `.`와 매치
  - `[]` 없이 정규표현식에 `.`가 사용되었을 때는 그 의미가 다르니 주의하자.
##### 활용
- `.` : 반드시 문자열의 앞단에 `my name is `가 포함되고
    
### 1.3. `*`
`*`는 앞에 오는 문자열이 0번 이상 반복된다고 표현할 때 사용한다.
- `ab*` : a, ab, abb, abbb....b 와 매치

### 1.4. `+`
`+`는 앞에 오는 문자열이 1번 이상 반복된다고 표현할 때 사용한다.
- `ab+` : ab, abb, abb...b 와 매치
- `[a-z]+` : 연속된 소문자 알파벳

### 1.5. `{}`
`{}`는 반복 횟수 혹은 범위를 지정할 떄 사용한다. 이때 괄호 안에 띄어쓰기는 공백 문자로 인지되므로 반드시 붙여서 사용해야한다. 
- `{m,n}` : 앞에 오는 문자가 m번 이상 n번 이하 반복
  - `{m,}` : 앞에 오는 문자가 m 번 이상 반복
  - `{,n}` : 앞에 오는 문자가 0번 이상, n번 이하 반복
- `{m}` : 앞에 오는 문자가 정확히 m번 반복

### 1.6. `^`, `$`
문자열의 맨 앞에 특정 문자열이 포함되는지 확인할 때는 `^string`을, 문자열의 맨 뒤에 특정 문자열이 나오는지 확인할 때는 `string$`을 사용한다. 

### 1.7. `()` 
`()` 안의 문자열이 반복되는지 확인하고자 할 때 사용한다. 
- `(abc)` : abc가 반복

### 1.8. `\`
`\`는 이스케이프 문자로, 뒤에 오는 문자를 특별한 기능을 수행하는 메타문자가 아니라 일반적인 문자로 취급할 때 사용한다. 


## 2. re 모듈과 검색 
앞서 정규표현식의 종류를 살펴봤다면, 이제 실제 re 모듈을 이용하여 내가 검사하고자 하는 문자열이 특정 정규표현식을 만족하는지 확인하고자 할 때 사용하는 문법을 살펴보자. 

```python
import re
```
우선 `re` 모듈을 불러오는 것으로 시작한다. `re`는 regular expression의 약자이다.

### 2.1. re.compile()
```python
pattern = re.compile('정규표현식')
```
- `compile` 메소드는 임의의 정규표현식을 인자로 받고, 패턴 객체를 반환한다. 
- 반환된 패턴 객체에 검색 메소드를 활용하여, 임의의 문자열이 정규표현식에 부합하는지를 확인한다.

### 2.2. 문자열 검색 메소드: match, search, findall, finditer
compile 메소드를 통해 pattern 객체를 생성했다면, 이 pattern 객체에 문자열 검색 메소드를 적용하여 매칭되는지 확인한다. 
```python
pattern = re.compile('regular_expression')
match_obj_1 = pattern.match('string') # match 객체 혹은 None이 반환된다.
match_obj_2 = pattern.search('string') # match 객체 혹은 None이 반환된다.
list_obj = pattern.findall('string') # 정규표현식을 만족하는 문자열 list가 반환된다.
iterable_obj = pattern.finditer('string') # Iterable 객체가 반환된다. 
```


#### match()
##### match 객체 메서드
1. group 
2. start
3. end
4. span
#### search()
#### findall()
#### fintiter()
#### 축약 형태 사용
축약 전 
```python
# 축약 전 
p = re.compile(정규표현식)
m = p.match(문자열)

# 축약 후
m = p.match(정규표현식, 문자열) 
```
- compile과 match 메소드를 동시에 수행할 수 있다. 
### 2.3. 

## 3. re 컴파일 옵션 
### 3.1. re.DOTALL
### 3.2. re.IGNORECASE
### 3.3. re.MULTILINE
### 3.4. re.VERBASE
